!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).fmt=t()}(this,function(){"use strict";var t,r,e,l,n="v"+Date.now(),i="insert into "+n,o="update "+n+" ? set "+n+"=1",u=new RegExp("(update "+n+"|set "+n+"=1)","g"),c={string:1,boolean:1,number:1},s=require("sqlutils/pg/format"),a=require("sqlutils/pg/escape"),f=require("sqlutils/pg/buildWhereFromQuery");return t=s,r=f,e=a,(l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],a=e.slice(1),f="";return r.forEach(function(e,t){f+=e;var r=a[t],n=e.toLocaleLowerCase(),i=n.length,o=n.lastIndexOf("where"),u=n.lastIndexOf("set"),s=n.lastIndexOf("insert into");void 0!==r&&(c[typeof r]?"#"===r[0]?f+=r.replace("#",""):f+=l.escape(r):0<o&&i-7<o?f+=l.where(r):0<u&&i-5<u?f+=l.set(r):-1<s&&(f+=l.set(r)))}),f}).values=function(e){return t(i+"?",e).replace(i,"").trim()},l.set=function(e){return t(o,e).replace(u,"").trim()},l.where=function(e){return r(e).replace("WHERE ","").trim()},l.escape=e,l.createQuery=function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(l.apply(void 0,e))}},l});
//# sourceMappingURL=pg.js.map
