!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).fmt=t()}(this,function(){"use strict";var t,r,e,f,n="v"+Date.now(),u="insert into "+n,o="update "+n+" ? set "+n+"=1",i=new RegExp("(update "+n+"|set "+n+"=1)","g"),l={string:1,boolean:1,number:1},s=require("sqlutils/pg/format"),a=require("sqlutils/pg/escape"),c=require("sqlutils/pg/buildWhereFromQuery");return t=s,r=c,e=a,(f=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],s=e.slice(1),a="";return r.forEach(function(e,t){a+=e;var r=s[t],n=e.toLocaleLowerCase(),u=n.length,o=n.lastIndexOf("where"),i=n.lastIndexOf("set");void 0!==r&&(l[typeof r]?"#"===r[0]?a+=r.replace("#",""):a+=f.escape(r):a+=0<o&&u-7<o?f.where(r):0<i&&u-5<i?f.set(r):f.values(r))}),a}).values=function(e){return t(u+"?",e).replace(u,"").trim()},f.set=function(e){return t(o,e).replace(i,"").trim()},f.where=function(e){return r(e).replace("WHERE ","").trim()},f.escape=e,f.createQuery=function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(f.apply(void 0,e))}},f});
//# sourceMappingURL=pg.js.map
