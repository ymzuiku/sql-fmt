!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("sqlstring")):"function"==typeof define&&define.amd?define(["sqlstring"],t):(e=e||self).sql=t(e.SqlString)}(this,function(p){"use strict";var f={string:1,boolean:1,number:1},l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],s=e.slice(1),u="";return n.forEach(function(e,t){var n=s[t],r=e.toLocaleLowerCase();u+=e.replace(/(\#)/,"");var o=r.length,a=r.lastIndexOf("where"),c=r.lastIndexOf("set"),i=r.lastIndexOf("#");void 0!==n&&(f[typeof n]?u+=-1<i&&o-1<=i?n:p.escape(n):0<a&&o-7<a?u+=l.where(n):0<c&&o-5<c?u+=l.set(n):"[object Array]"===Object.prototype.toString.call(n)&&f[typeof n[0]]?u+=l.values(n):u+=l.insert(n))}),u};return l.insert=function(n){if(!(n[0]&&"[object Array]"===Object.prototype.toString.call(n))){var e=Object.keys(n),t=e.map(function(e){return p.escapeId(e)}),r=e.map(function(e){var t=n[e];return p.escape(t)});return"("+t.join(", ")+") VALUES ("+r.join(", ")+")"}var o=Object.keys(n[0]),a=o.map(function(e){return p.escapeId(e)}),c=n.map(function(n){return"("+o.map(function(e){var t=n[e];return p.escape(t)}).join(", ")+")"});return"("+a.join(", ")+") VALUES "+c.join(", ")},l.where=function(n){return"("+Object.keys(n).map(function(t){var e=n[t];return"[object Array]"!==Object.prototype.toString.call(e)?p.escapeId(t)+" = "+p.escape(e):"("+e.map(function(e){return p.escapeId(t)+" = "+p.escape(e)}).join(" OR ")+")"}).join(" AND ")+")"},l.values=function(e){return""+e.map(function(e){return p.escape(e)}).join(", ")},l.set=function(n){return Object.keys(n).map(function(e){var t=n[e];return p.escapeId(e)+" = "+p.escape(t)}).join(", ")},l.escape=p.escape,l.escapeId=p.escapeId,l.format=p.format,l});
//# sourceMappingURL=index.js.map
